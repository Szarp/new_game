<!DOCTYPE html>
<html>
<head>
  <meta >
<link >

<script >

var
   yyk=[0,50,200,300,50,200,300,50,200,300,50,200,300,50,200,300];
   sgora=0;
   sdol=0;
   sprawo=0;
   slewo=0;
   klikrestart=0;
   left=320;
   y=20;
   x0=570;
   y0=120;
   r=100;
   cwiartka=0;
   x1=80;
   var array=new Array(100);
  //tablicastrzalek=['strzlkagora','strzlkadol','strzlkaprawo','strzlkalewo];
 function start(){
  Last=new Date();
  var z="cykl(0)";
  setTimeout(z,50);
 var element = document.getElementById( "strzalkagora" );
  element.addEventListener("click",fstrzalkagora);
  var element = document.getElementById( "strzalkadol" );
  element.addEventListener("click",fstrzalkadol);
  var element = document.getElementById( "strzalkaprawo" );
  element.addEventListener("click",fstrzalkaprawo);
  var element = document.getElementById( "strzalkalewo" );
  element.addEventListener("click",fstrzalkalewo);
   var element = document.getElementById( "srodkowy" );
  element.addEventListener("click",zgaszony);
document.onkeydown = runScript;
 }
 function wypelnij(){
	 var x=0;
	 for(var i=0; i<100; i++){
	 array[x]=x;
	 x++;
	 }
	 console.log(array);
	 shuffle(array);
 }
 function zgaszony(){
    if (sgora==1){
        var  d = document.getElementById("lewygorny");
		 d.style.background="black"; sgora=0;
    }
	else if (sprawo==1){
		var  d = document.getElementById("prawygorny");
		d.style.background="black"; sprawo=0;
	}
	else if (slewo==1){
		var  d = document.getElementById("prawydolny");
		d.style.background="black"; slewo=0
	}
	else if (sdol==1){
		var  d = document.getElementById("lewydolny");
		d.style.background="black"; sdol=0;
	}
 }
	function fstrzalkagora (){
		wypelnij();
		sgora=1;
		var  d = document.getElementById("kwadrat");
		d.style.top="70px";
//alert("ff")
}
	function fstrzalkaprawo (){
		sprawo=1;
		var  d = document.getElementById("kwadrat");
		d.style.left="610px";
//alert("ff")
}
	function fstrzalkalewo (){
		sdol=1;
		var  d = document.getElementById("kwadrat");
		d.style.left="510px";
//alert("ff")
}
	function fstrzalkadol (){
		slewo=1;
		var  d = document.getElementById("kwadrat");
		d.style.top="170px";
//alert("ff")
}

function runScript(e) {
    //alert ("tak")
	
    if (e.keyCode == 87) {//góra W
		//shuffle(array);
		y-=20;
		if (checkPossition_y()==false){
		y+=20;
		}
        var tb = document.getElementById("kwadrat");
        tb.style.top=y+"px";
		//tb.style.left="560px";
    }
    else if (e.keyCode == 68) {//prawo D
		left+=20;
		if (checkPossition_x()==false){
		//console.log("da sie");
		left-=20;
		}
        var tb = document.getElementById("kwadrat");
        tb.style.left=left+"px";
		//tb.style.top=x+"px";
    }
    else if (e.keyCode == 83) {//dół S
	    y+=20;
		if (checkPossition_y()==false){
		y-=20;
		}
		var tb = document.getElementById("kwadrat");
        tb.style.top=y+"px";
		//tb.style.left="560px";
    }
    else if (e.keyCode == 65) {//lewo A
		left-=20;        
		if (checkPossition_x()==false){
		left+=20;
		console.log("da sie");
		}

		var tb = document.getElementById("kwadrat");
        tb.style.left=left+"px";
		//tb.style.top="120px";
    }
	else {return true;}
}
function checkPossition_x(){
	if (left<320 || left >520){
		return false;
	}
	else{return true;}
}
function checkPossition_y(){

		if (y<20 ||y>220){
	
	//console.log("outof");
	return false;
	}
	else{return true;}
}
function shuffle(array){
var z,x,y;
	for(var i=0; i<1000; i++){
		y=Math.floor(Math.random() * 100);
		z=y;
		if (y==99){
		z=-1;
		}
		x=array[y];
		array[y]=array[z+1];
		array[z+1]=x;
	}
console.log(array);	
}



</script>
</head>
</head>
<body >
<div id="wynik" style="position:absolute;left:760px;top:120px;" >0</div>
<div id="kwadrat" style="position:absolute;left:320px;top:20px; width: 10px; height: 10px; background: blue;" ></div>
<table>
	<tr>
		<td>
			<div id="lewygorny" style="width: 100px; height: 100px; background: black;"></div>
		</td>
		<td>
			<div id="strzalkagora" style="	width:0; height:0; border-left:50px solid transparent; border-right:50px solid transparent; border-bottom:100px solid red;"></div>
		</td>
		<td>
			<div id="prawygorny" style="width: 100px; height: 100px; background: black;"></div>
		</td>
	</tr>
	<tr>
		<td>
			<div id="strzalkalewo" style="width: 0; height: 0; border-top: 50px solid transparent; border-right: 100px solid red; border-bottom: 50px solid transparent;"></div>
		</td>
		<td>
			<div id="srodkowy" style="width: 100px; height: 100px; background: black;"></div>
		</td>
			<td>
		<div id="strzalkaprawo" style="width: 0; height: 0; border-top: 50px solid transparent; border-left: 100px solid red; border-bottom: 50px solid transparent;"></div>
		</td>
	</tr>
		<tr>
		<td>
		<div id="lewydolny" style="width: 100px; height: 100px; background: black;"></div>
		</td>
		<td>
		<div id="strzalkadol" style="width: 0; height: 0; border-left: 50px solid transparent; border-right: 50px solid transparent; border-top: 100px solid red;"></div>
		</td>
		<td>
		<div id="prawydolny" style="width: 100px; height: 100px; background: black;"></div>
		</td>
	</tr>
</table>

<input id="scriptBox" type="text" onkeypress="return runScript(event)" />
<script>
window.onload = start(0);
</script>

</body>